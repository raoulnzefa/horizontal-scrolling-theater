(function(t){function e(e){for(var n,a,i=e[0],l=e[1],u=e[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);s&&s(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(c.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={app:0},c=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var s=l;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},3019:function(t,e,r){},3682:function(t,e,r){},"3b52":function(t,e,r){"use strict";r("3682")},4990:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o={key:0,style:{width:"100vw",height:"100vh",position:"fixed","z-index":"9999",display:"flex","justify-content":"center","align-items":"center",color:"#eee","background-color":"#222"}},c=Object(n["f"])("h1",{class:"title"},"Vue.js Theater",-1),a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i=Object(n["f"])("title",null,"Cart",-1),l=Object(n["f"])("circle",{cx:"176",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),u=Object(n["f"])("circle",{cx:"400",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),s=Object(n["f"])("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M48 80h64l48 272h256"},null,-1),d=Object(n["f"])("path",{d:"M160 288h249.44a8 8 0 007.85-6.43l28.8-144a8 8 0 00-7.85-9.57H128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),f={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},b=Object(n["f"])("title",null,"Cart",-1),p=Object(n["f"])("circle",{cx:"176",cy:"416",r:"32"},null,-1),O=Object(n["f"])("circle",{cx:"400",cy:"416",r:"32"},null,-1),j=Object(n["f"])("path",{d:"M456.8 120.78a23.92 23.92 0 00-18.56-8.78H133.89l-6.13-34.78A16 16 0 00112 64H48a16 16 0 000 32h50.58l45.66 258.78A16 16 0 00160 368h256a16 16 0 000-32H173.42l-5.64-32h241.66A24.07 24.07 0 00433 284.71l28.8-144a24 24 0 00-5-19.93z"},null,-1);function v(t,e,r,v,g,h){var m=Object(n["o"])("cards"),C=Object(n["o"])("cartPage");return Object(n["i"])(),Object(n["d"])(n["a"],null,[v.isTouchDevice?(Object(n["i"])(),Object(n["d"])("section",o," 網頁不適合透過行動裝置瀏覽喔 : ( ")):Object(n["e"])("",!0),c,Object(n["f"])("div",{class:"cart",onClick:e[1]||(e[1]=function(){return v.toggleCartPage&&v.toggleCartPage.apply(v,arguments)})},[Object(n["s"])((Object(n["i"])(),Object(n["d"])("svg",a,[i,l,u,s,d],512)),[[n["q"],!v.isCartOpen]]),Object(n["s"])((Object(n["i"])(),Object(n["d"])("svg",f,[b,p,O,j],512)),[[n["q"],v.isCartOpen]]),Object(n["f"])("span",null,Object(n["p"])(v.cart.data.length),1)]),Object(n["f"])(m,{movies:v.movies,currentMovieCover:v.currentMovieCover,isCartOpen:v.isCartOpen,isArrowLeftVisible:v.isArrowLeftVisible,getCoverStyle:v.getCoverStyle,horizontalScroll:v.horizontalScroll,adjustCardsPos:v.adjustCardsPos,toggleLeftArrow:v.toggleLeftArrow,moveToTop:v.moveToTop,addToCart:v.addToCart,truncate:v.truncate,thousandFormat:v.thousandFormat},null,8,["movies","currentMovieCover","isCartOpen","isArrowLeftVisible","getCoverStyle","horizontalScroll","adjustCardsPos","toggleLeftArrow","moveToTop","addToCart","truncate","thousandFormat"]),Object(n["f"])(C,{cart:v.cart,isCartOpen:v.isCartOpen,totalPrice:v.totalPrice,getCoverStyle:v.getCoverStyle,removeFromCart:v.removeFromCart,thousandFormat:v.thousandFormat},null,8,["cart","isCartOpen","totalPrice","getCoverStyle","removeFromCart","thousandFormat"])],64)}r("13d5"),r("d81d"),r("159b"),r("5319"),r("ac1f"),r("7db0"),r("b0c0"),r("a434"),r("fb6a"),r("1276"),r("d3b7"),r("25f0"),r("a15b"),r("a4d3"),r("e01a");var g=Object(n["u"])("data-v-3fffdcec");Object(n["k"])("data-v-3fffdcec");var h={class:"card-left"},m={class:"card-right"},C={class:"name"},y={class:"genre"},w={class:"description"},k={class:"price"};Object(n["j"])();var T=g((function(t,e,r,o,c,a){return Object(n["i"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("section",{class:"movie",onWheel:e[1]||(e[1]=Object(n["t"])((function(){return r.horizontalScroll&&r.horizontalScroll.apply(r,arguments)}),["prevent"]))},[Object(n["f"])("section",{class:["cards",{cartOpen:r.isCartOpen}]},[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["n"])(r.movies.data,(function(t,e){return Object(n["i"])(),Object(n["d"])("article",{class:"card",key:t.name},[Object(n["f"])("div",h,[Object(n["f"])("div",{class:"cover",style:r.getCoverStyle(t.cover)},null,4)]),Object(n["f"])("div",m,[Object(n["f"])("h2",C,Object(n["p"])(t.name),1),Object(n["f"])("h4",y,Object(n["p"])(t.genre),1),Object(n["f"])("p",w,Object(n["p"])(r.truncate(t.description,95)),1),Object(n["f"])("div",k,"$ "+Object(n["p"])(r.thousandFormat(t.price)),1),Object(n["f"])("button",{class:["add",{inCart:t.isInCart}],onClick:function(n){return r.addToCart(t,e,n)}},Object(n["p"])(t.isInCart?"已在購物車":"加入購物車"),11,["onClick"])])])})),128))],2)],32),Object(n["s"])(Object(n["f"])("div",{class:"moving-cover",style:r.getCoverStyle(r.currentMovieCover)},null,4),[[n["q"],r.currentMovieCover]]),Object(n["s"])(Object(n["f"])("button",{class:"arrow-left",onClick:e[2]||(e[2]=function(){return r.moveToTop&&r.moveToTop.apply(r,arguments)})}," ← ",512),[[n["q"],r.isArrowLeftVisible]])],64)})),S={props:{movies:{type:Object,default:function(){return[]}},currentMovieCover:{type:String,default:""},isCartOpen:{type:Boolean,default:!1},isArrowLeftVisible:{type:Boolean,default:!1},getCoverStyle:{type:Function,default:function(){}},horizontalScroll:{type:Function,default:function(){}},adjustCardsPos:{type:Function,default:function(){}},toggleLeftArrow:{type:Function,default:function(){}},moveToTop:{type:Function,default:function(){}},addToCart:{type:Function,default:function(){}},truncate:{type:Function,default:function(){}},thousandFormat:{type:Function,default:function(){}}},setup:function(t){return{props:t}}};r("8b83");S.render=T,S.__scopeId="data-v-3fffdcec";var F=S,P=Object(n["u"])("data-v-7cbc2f4b");Object(n["k"])("data-v-7cbc2f4b");var x={key:0,class:"message"},A={key:1,class:"panel"},M=Object(n["f"])("h2",null,"電影購物車",-1),z={class:"name"},B={class:"price"},L={key:0},_={key:1,class:"total-price"};Object(n["j"])();var q=P((function(t,e,r,o,c,a){return Object(n["i"])(),Object(n["d"])("section",{class:["cart-page",{cartOpen:r.isCartOpen}]},[r.cart.data.length?Object(n["e"])("",!0):(Object(n["i"])(),Object(n["d"])("h3",x," 你還沒將任何電影加入購物車喔 : ( ")),r.cart.data.length?(Object(n["i"])(),Object(n["d"])("section",A,[M,Object(n["f"])("ul",null,[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["n"])(r.cart.data,(function(t,e){return Object(n["i"])(),Object(n["d"])("li",{key:t.name},[Object(n["f"])("div",{class:"remove",onClick:function(t){return r.removeFromCart(e)}},"✕",8,["onClick"]),Object(n["f"])("div",{class:"thumbnail",style:r.getCoverStyle(t.cover)},null,4),Object(n["f"])("h3",z,Object(n["p"])(t.name)+"（"+Object(n["p"])(t.genre.replaceAll("、"," / "))+"） ",1),Object(n["f"])("h3",B,"$ "+Object(n["p"])(r.thousandFormat(t.price)),1)])})),128))]),r.cart.data.length?(Object(n["i"])(),Object(n["d"])("hr",L)):Object(n["e"])("",!0),r.cart.data.length?(Object(n["i"])(),Object(n["d"])("h2",_," 總計 $ "+Object(n["p"])(r.thousandFormat(r.totalPrice)),1)):Object(n["e"])("",!0)])):Object(n["e"])("",!0)],2)})),I=(r("a9e3"),{props:{cart:{type:Object,default:function(){return[]}},isCartOpen:{type:Boolean,default:!1},totalPrice:{type:Number,default:0},getCoverStyle:{type:Function,default:function(){}},removeFromCart:{type:Function,default:function(){}},thousandFormat:{type:Function,default:function(){}}},setup:function(t){return{props:t}}});r("676d");I.render=q,I.__scopeId="data-v-7cbc2f4b";var V=I,R=r("bc3a"),H=r.n(R),W=r("cffa"),$=r("a5cf"),D={name:"App",components:{Cards:F,CartPage:V},setup:function(){var t=Object(n["m"])("ontouchstart"in document.documentElement),e=Object(n["l"])({data:[]}),r=Object(n["l"])({data:[]}),o=Object(n["m"])(""),c=Object(n["m"])(!1),a=null,i=Object(n["m"])(!1),l=Object(n["m"])(!1),u=Object(n["m"])(!1),s=Object(n["b"])((function(){return r.data.map((function(t){return t.price})).reduce((function(t,e){return t+e}),0)}));function d(t){return{"background-image":"url(".concat(t,")"),"background-position":"center center","background-size":"cover"}}function f(t){W["a"].to(".cards",{duration:.6,left:"+=".concat(1.5*t.deltaY,"px")}),p(),b()}function b(){var t=document.querySelector(".cards"),e=t.style.left.replace("px",""),r=document.querySelector(".card").getBoundingClientRect().width;e>0&&W["a"].to(".cards",{duration:.6,left:0}),e<-t.scrollWidth+1.8*r&&W["a"].to(".cards",{duration:.6,left:-t.scrollWidth+1.8*r})}function p(){if(c.value)return i.value=!1;var t=document.querySelector(".cards").style.left.replace("px","");return i.value=t<-800}function O(){W["a"].to(".cards",{duration:.6,left:0}),setTimeout((function(){return i.value=!1}),600)}function j(){a&&clearTimeout(a),c.value=!c.value,p(),v(1.6)}function v(t){r.data.length||(a=setTimeout((function(){c.value=!1,p()}),1e3*t))}function g(t,c,i){l.value||e.data[c].isInCart||(l.value=!0,o.value=t.cover,Object(n["g"])((function(){var n=i.target.closest(".card-right").previousSibling.querySelector(".cover");W["a"].from(".moving-cover",{duration:.8,left:n.getBoundingClientRect().left,top:n.getBoundingClientRect().top,width:.6*n.getBoundingClientRect().width,height:.6*n.getBoundingClientRect().height,opacity:1,ease:$["b"].easeOut}),setTimeout((function(){a&&clearTimeout(a),r.data.push(t),e.data[c].isInCart=!0,setTimeout((function(){return l.value=!1}),500)}),800)})))}function h(t){u.value||(u.value=!0,e.data.find((function(e){return e.name===r.data[t].name})).isInCart=!1,r.data.splice(t,1),setTimeout((function(){return u.value=!1}),300),v(1.6))}function m(t,e){return t.length>e?"".concat(t.slice(0,e-1),"..."):t}function C(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}return Object(n["r"])(r.data,(function(){W["a"].from(".cart",{duration:.3,scale:.8})})),Object(n["h"])((function(){H.a.get("https://raw.githubusercontent.com/rayc2045/horizontal-scrolling-theater/master/src/assets/data/movie.json").then((function(t){e.data=t.data,e.data.forEach((function(t){return t.isInCart=!1}))})).catch((function(t){return console.log(t)}))})),{isTouchDevice:t,movies:e,cart:r,currentMovieCover:o,isCartOpen:c,isArrowLeftVisible:i,isAddingToCart:l,totalPrice:s,getCoverStyle:d,horizontalScroll:f,adjustCardsPos:b,toggleLeftArrow:p,moveToTop:O,toggleCartPage:j,addToCart:g,removeFromCart:h,truncate:m,thousandFormat:C}}};r("3b52");D.render=v;var E=D;Object(n["c"])(E).mount("#app")},"676d":function(t,e,r){"use strict";r("4990")},"8b83":function(t,e,r){"use strict";r("3019")}});
//# sourceMappingURL=app.3ac03049.js.map