(function(e){function t(t){for(var c,a,i=t[0],l=t[1],u=t[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);s&&s(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(c=!1)}c&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},r={app:0},o=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"20aa":function(e,t,n){"use strict";n("6775")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=(n("b0c0"),n("a4d3"),n("e01a"),{key:0,style:{width:"100vw",height:"100vh",position:"fixed","z-index":"9999",display:"flex","justify-content":"center","align-items":"center",color:"#eee","background-color":"#222"}}),o=Object(c["f"])("h1",{class:"title"},"Vue.js Theater",-1),a={class:"card-left"},i={class:"card-right"},l={class:"name"},u={class:"genre"},s={class:"description"},d={class:"price"},f={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},b=Object(c["f"])("title",null,"Cart",-1),j=Object(c["f"])("circle",{cx:"176",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),O=Object(c["f"])("circle",{cx:"400",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),p=Object(c["f"])("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M48 80h64l48 272h256"},null,-1),h=Object(c["f"])("path",{d:"M160 288h249.44a8 8 0 007.85-6.43l28.8-144a8 8 0 00-7.85-9.57H128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),v={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g=Object(c["f"])("title",null,"Cart",-1),m=Object(c["f"])("circle",{cx:"176",cy:"416",r:"32"},null,-1),y=Object(c["f"])("circle",{cx:"400",cy:"416",r:"32"},null,-1),C=Object(c["f"])("path",{d:"M456.8 120.78a23.92 23.92 0 00-18.56-8.78H133.89l-6.13-34.78A16 16 0 00112 64H48a16 16 0 000 32h50.58l45.66 258.78A16 16 0 00160 368h256a16 16 0 000-32H173.42l-5.64-32h241.66A24.07 24.07 0 00433 284.71l28.8-144a24 24 0 00-5-19.93z"},null,-1),k={key:0,class:"message"},w={key:1,class:"panel"},x=Object(c["f"])("h2",null,"電影購物車",-1),T={class:"name"},S={class:"price"},P={key:0},M={key:1,class:"total-price"};function A(e,t,n,A,B,z){return Object(c["i"])(),Object(c["d"])(c["a"],null,[A.isTouchDevice?(Object(c["i"])(),Object(c["d"])("section",r," 網頁不適合透過行動裝置瀏覽喔 : ( ")):Object(c["e"])("",!0),o,Object(c["f"])("section",{class:"movie",onWheel:t[1]||(t[1]=Object(c["q"])((function(){return A.horizontalScroll&&A.horizontalScroll.apply(A,arguments)}),["prevent"]))},[Object(c["f"])("section",{class:["cards",{cartOpen:A.isCartOpen}]},[(Object(c["i"])(!0),Object(c["d"])(c["a"],null,Object(c["l"])(A.movies.data,(function(e,t){return Object(c["i"])(),Object(c["d"])("article",{class:"card",key:e.name},[Object(c["f"])("div",a,[Object(c["f"])("div",{class:"cover",style:A.getCoverStyle(e.cover)},null,4)]),Object(c["f"])("div",i,[Object(c["f"])("h2",l,Object(c["m"])(e.name),1),Object(c["f"])("h4",u,Object(c["m"])(e.genre),1),Object(c["f"])("p",s,Object(c["m"])(A.truncate(e.description,95)),1),Object(c["f"])("div",d,"$ "+Object(c["m"])(A.thousandFormat(e.price)),1),Object(c["f"])("button",{class:["add",{inCart:e.isInCart}],onClick:function(n){return A.addToCart(e,t,n)}},Object(c["m"])(e.isInCart?"已在購物車":"加入購物車"),11,["onClick"])])])})),128))],2)],32),Object(c["p"])(Object(c["f"])("button",{class:"arrow-left",onClick:t[2]||(t[2]=function(){return A.moveToTop&&A.moveToTop.apply(A,arguments)})}," ← ",512),[[c["n"],A.isArrowLeftVisible]]),Object(c["p"])(Object(c["f"])("div",{class:"moving-cover",style:A.getCoverStyle(A.currentMovieCover)},null,4),[[c["n"],A.currentMovieCover]]),Object(c["f"])("div",{class:"cart",onClick:t[3]||(t[3]=function(){return A.toggleCartPage&&A.toggleCartPage.apply(A,arguments)})},[Object(c["p"])((Object(c["i"])(),Object(c["d"])("svg",f,[b,j,O,p,h],512)),[[c["n"],!A.isCartOpen]]),Object(c["p"])((Object(c["i"])(),Object(c["d"])("svg",v,[g,m,y,C],512)),[[c["n"],A.isCartOpen]]),Object(c["f"])("span",null,Object(c["m"])(A.cart.data.length),1)]),Object(c["f"])("section",{class:["cart-page",{cartOpen:A.isCartOpen}]},[A.cart.data.length?Object(c["e"])("",!0):(Object(c["i"])(),Object(c["d"])("h3",k," 你還沒將任何電影加入購物車喔 : ( ")),A.cart.data.length?(Object(c["i"])(),Object(c["d"])("section",w,[x,Object(c["f"])("ul",null,[(Object(c["i"])(!0),Object(c["d"])(c["a"],null,Object(c["l"])(A.cart.data,(function(e,t){return Object(c["i"])(),Object(c["d"])("li",{key:e.name},[Object(c["f"])("div",{class:"remove",onClick:function(e){return A.removeFromCart(t)}},"✕",8,["onClick"]),Object(c["f"])("div",{class:"thumbnail",style:A.getCoverStyle(e.cover)},null,4),Object(c["f"])("h3",T,Object(c["m"])(e.name)+"（"+Object(c["m"])(e.genre.replaceAll("、"," / "))+"） ",1),Object(c["f"])("h3",S,"$ "+Object(c["m"])(A.thousandFormat(e.price)),1)])})),128))]),A.cart.data.length?(Object(c["i"])(),Object(c["d"])("hr",P)):Object(c["e"])("",!0),A.cart.data.length?(Object(c["i"])(),Object(c["d"])("h2",M," 總計 $ "+Object(c["m"])(A.thousandFormat(A.totalPrice)),1)):Object(c["e"])("",!0)])):Object(c["e"])("",!0)],2)],64)}n("13d5"),n("d81d"),n("159b"),n("5319"),n("ac1f"),n("7db0"),n("a434"),n("fb6a"),n("1276"),n("d3b7"),n("25f0"),n("a15b");var B=n("bc3a"),z=n.n(B),F=n("cffa"),I=n("a5cf"),_={setup:function(){var e=Object(c["k"])("ontouchstart"in document.documentElement),t=Object(c["j"])({data:[]}),n=Object(c["j"])({data:[]}),r=Object(c["k"])(""),o=Object(c["k"])(!1),a=null,i=Object(c["k"])(!1),l=Object(c["k"])(!1),u=Object(c["b"])((function(){return n.data.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)}));function s(e){return{"background-image":"url(".concat(e,")"),"background-position":"center center","background-size":"cover"}}function d(e){F["a"].to(".cards",{duration:.6,left:"+=".concat(1.5*e.deltaY,"px")}),b(),f()}function f(){var e=document.querySelector(".cards"),t=e.style.left.replace("px",""),n=document.querySelector(".card").getBoundingClientRect().width;t>0&&F["a"].to(".cards",{duration:.6,left:0}),t<-e.scrollWidth+1.8*n&&F["a"].to(".cards",{duration:.6,left:-e.scrollWidth+1.8*n})}function b(){if(o.value)return i.value=!1;var e=document.querySelector(".cards").style.left.replace("px","");return i.value=e<-800}function j(){F["a"].to(".cards",{duration:.6,left:0}),setTimeout((function(){return b()}),500)}function O(){a&&clearTimeout(a),o.value=!o.value,b(),p(1.6)}function p(e){n.data.length||(a=setTimeout((function(){o.value=!1,b()}),1e3*e))}function h(e,o,i){l.value||t.data[o].isInCart||(l.value=!0,r.value=e.cover,Object(c["g"])((function(){var c=i.target.closest(".card-right").previousSibling.querySelector(".cover");F["a"].from(".moving-cover",{duration:.8,left:c.getBoundingClientRect().left,top:c.getBoundingClientRect().top,width:.6*c.getBoundingClientRect().width,height:.6*c.getBoundingClientRect().height,opacity:1,ease:I["b"].easeOut}),setTimeout((function(){a&&clearTimeout(a),n.data.push(e),t.data[o].isInCart=!0,setTimeout((function(){return l.value=!1}),500)}),800)})))}function v(e){t.data.find((function(t){return t.name===n.data[e].name})).isInCart=!1,n.data.splice(e,1),p(1.6)}function g(e,t){return e.length>t?"".concat(e.slice(0,t-1),"..."):e}function m(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}return Object(c["o"])(n.data,(function(){F["a"].from(".cart",{duration:.3,scale:.8})})),Object(c["h"])((function(){z.a.get("https://raw.githubusercontent.com/rayc2045/horizontal-scrolling-theater/master/src/assets/data/movie.json").then((function(e){t.data=e.data,t.data.forEach((function(e){return e.isInCart=!1}))})).catch((function(e){return console.log(e)}))})),{isTouchDevice:e,movies:t,cart:n,currentMovieCover:r,isCartOpen:o,isArrowLeftVisible:i,isAddingToCart:l,totalPrice:u,getCoverStyle:s,horizontalScroll:d,adjustCardsPos:f,toggleLeftArrow:b,moveToTop:j,toggleCartPage:O,addToCart:h,removeFromCart:v,truncate:g,thousandFormat:m}}};n("20aa");_.render=A;var q=_;Object(c["c"])(q).mount("#app")},6775:function(e,t,n){}});
//# sourceMappingURL=app.252e823f.js.map